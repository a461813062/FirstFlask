<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <!-- 我也不知道是什么东西-->
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>清明在线祭奠</title>
    <link rel="icon" href="../static/img/icon.png"/>
    <!-- 本地引入CSS一大堆，反正都是有用的 -->
    <link href="../static/css/bootstrap.css" rel="stylesheet"/>
    <link href="../static/css/ie10-viewport-bug-workaround.css" rel="stylesheet"/>
    <link href="../static/css/jumbotron.css" rel="stylesheet"/>
    <link rel="stylesheet" type="text/css" href="../static/css/barrager.css"/>
    <link rel="stylesheet" type="text/css" href="../static/pick-a-color/css/pick-a-color-1.2.3.min.css"/>
    <link type="text/css" rel="stylesheet" href="../static/syntaxhighlighter/styles/shCoreDefault.css"/>
    <link rel="stylesheet" type="text/css" href="../static/css/style.css" />
    <!-- 引入js，我也不知道怎么会有这么多= =， -->
    <script src="../static/js/ie-emulation-modes-warning.js"></script>
    <script type="text/javascript" src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdn.bootcss.com/socket.io/2.0.4/socket.io.js"></script>
    <script type="text/javascript" src="../static/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../static/js/tinycolor-0.9.15.min.js"></script>
    <script type="text/javascript" src="../static/js/jquery.barrager.min.js"></script>
    <script type="text/javascript" src="../static/pick-a-color/js/pick-a-color-1.2.3.min.js"></script>
    <!-- 建立socket连接、监听发送按钮和接受服务器广播的js-->
    <script>
        var socket = io.connect('http://' + document.domain + ':' + location.port);
        function send(){
            if($('#name').val() === '' || $('#content').val() === ''){
                alert("请填写姓名或内容")
            }
            else {
                var info = $('#name').val() +":"+ $('#content').val();
                $('#name').val('');
                $('#content').val('');
                socket.emit('send_message',info);
            }
        }
        socket.on('get_message',function (data){
                var item={
                img:'../static/img/candle.png', //图片
                info:data, //文字
                close:true, //显示关闭按钮
                speed:8, //延迟,单位秒,默认8
                color:'#FFFFFF', //颜色,默认白色
                old_ie_color:'#000000', //ie低版兼容色,不能与网页背景相同,默认黑色
                };
                $('body').barrager(item);
            })
    </script>
    <!-- 解决浏览器兼容的js,留着吧 -->
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://cdn.bootcss.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
    <!-- 设置背景图片以及自适应大小，这是个坑==，css引入的设置无效，只能写在标签李了 -->
    <body class="jumbotron" style="background-size: cover;-webkit-background-size: cover;">
        <!-- 开头那一条小杠杠 -->
        <nav class="navbar navbar-inverse navbar-fixed-top" style="background:rgba(0,0,0,0.1);">
          <div class="container">
            <div class="navbar-header">
                <!-- 表明身份。哈哈哈哈 -->
                <a class="navbar-brand" href="#" style="color: whitesmoke;font-size: 30px;font-weight: bolder">江西理工大学</a>
            </div>
          </div>
        </nav>

        <!-- 主体内容 -->
        <div style="margin-top: 5%;margin-bottom: 3%">
          <div class="container" style="background: rgba(0,0,0,0.2);border-radius: 20px">
            <h1 style="color: whitesmoke">祭奠赣南先烈</h1>
            <p style="color: whitesmoke;font-weight: bolder">苏维埃红旗，是数十万革命烈士用鲜血染红的。仅赣南苏区，当年总人口只有240万，参加红军的就有33万人，参加赤卫队、洗衣队等支前作战的约60万人，为革命牺牲的有名有姓的革命烈士达10.8万余人。</p>
          </div>
        </div>
        <div class="container" style="margin-bottom: 3%;background: rgba(0,0,0,0.3);border-radius: 20px">
            <p style="color: whitesmoke;font-weight: bolder;font-size: 30px">我想对先烈说....</p>
            <!-- 弹幕内容输入位置，我也不知道为什么要套个form，= =，-- -->
            <form>
                <div>
                    <span style="font-weight: bolder;font-size: 140%;color: whitesmoke">姓名：</span><input required="required"  id="name" style="border:1px solid rgba(255,255,255,0.37);background: rgba(256,256,256,0.4);width: 20%;height: 120%;color: whitesmoke;font-weight: bolder;font-size: 140%">
                </div>
                    <br>
                <div>
                    <span style="font-weight: bolder;font-size: 140%;color: whitesmoke">内容：</span><input required="required" id="content" style="border:1px solid rgba(255,255,255,0.42);background: rgba(256,256,256,0.4);width: 70%;height: 240%;color: whitesmoke;font-weight: bolder;font-size: 140%">
                </div>
                    <br>
                <!-- 触发js的按钮,其实，好像写的累赘了，不用把自己传过去的 -->
                <button type="button" onclick="send(this)" style="border:1px solid rgba(255,255,255,0.37);background: rgba(256,256,256,0.4);margin-bottom: 3%"><span style="font-weight: bolder;font-size: 120%;color: whitesmoke">提交</span></button>
            </form>
        </div>

        <!-- 先烈事迹介绍 -->
        <div class="container" style="background: rgba(0,0,0,0.3);border-radius: 20px">
          <div class="row">
              <div>
                <div class="col-md-4">
                  <h2 style="color: whitesmoke">郭一清</h2>
                  <p style="color:whitesmoke;font-size: 100%;font-weight: bolder">1930年6月成立红三军团红八军，任第一纵队政治委员。7月25日率部参加平江战斗，指挥所部在长沙城郊金井同国民党军激战16小时，壮烈牺牲。郭一清虽然生命短暂，但他的一生却是流彩闪光。新中国成立后，彭德怀、黄克诚、 何长工、程子华、李寿轩等老一辈无产阶级革命家的多篇回忆录中，充满深情地频频追述郭一清的功绩。1951年9月5日，彭德怀在朝鲜战场上写给郭一清的遗子郭兴让的信上说：“一清同志是优秀的中国共产党党员，早期信丰县委的领导人之一，是我的战友。他不幸牺牲，安葬于浏阳门外七里巷附近，当时因环境险恶，为避免敌人掘尸而未立碑，与其他牺牲的同志埋于一起，日久已难以辨认。惟郭一清同志为中国人民的革命事业坚决勇敢、艰苦奋斗之精神，将永远留在人间，值得我辈学习!” </p>
                </div>
                <div class="col-md-4">
                  <h2 style="color: whitesmoke">彭仁发</h2>
                  <p style="color:whitesmoke;font-size: 100%;font-weight: bolder">原名彭德仁。江西赣州人，革命烈士1930年参加中国工农红军，不久加入中国共产党。曾参加过五次反围剿斗争和长征。抗日战争爆发后，被选送去延安摩托学校学习。1937年12月，被党中央派到新疆学习航空技术。1938年3月，进入新疆边防督办公署航空队机械班学习。很快攻下了《飞行原理》、《外场维护》、《内场修理》等航空基础理论课程，基本掌握了教学大纲规定的航空知识和技术。1939年11月，以优异成绩毕业。之后遵照组织安排继续留在新疆边防督办公署航空队实习，并担任机械师。1940年2月，在一次飞行训练中，由于天气冷，飞机发动机发动不起来，他主动上前去发动，因螺旋桨突然转动而受重伤，不幸因公殉职。</p>
                </div>
                <div class="col-md-4">
                  <h2 style="color: whitesmoke">袁玉冰</h2>
                  <p style="color:whitesmoke;font-size: 100%;font-weight: bolder">赣州市兴国县崇贤上沔村人。生于清光绪二十五年。1922年考入北京大学哲学系，结识了中国共产主义运动的伟大先驱———李大钊。后经李大钊介绍，加入中国社会主义青年团，不久加入中国共产党。历任中国社会主义青年团上海地方委员会宣传部主任、共青团江西区委书记、中共江西区委宣传部长、中共九江地委书记。1927年“四一二”反革命政变后，袁玉冰由于叛徒出卖被捕，他始终坚贞不屈，视死如归。12月27日在南昌英勇就义，时年28岁。 </p>
                </div>
              </div>
            <hr>
          </div>
                        <!-- 再次表明身份 -->
            <footer>
                <p style="color: whitesmoke;font-weight: bolder">还有许许多多先烈为我们当下美好的生活奋斗过、牺牲过，请大家默默感恩着，纪念着......</p>
                <p style="color: whitesmoke;font-weight: bolder;margin-left: 75%">by 江西理工大学信息工程学院</p>
            </footer>
        </div>
    </body>
    <!-- 到此结束，这个web应用主要点就是通过大神写的query.barrager.js这个插件实现弹幕，以及使用H5支持的WebSocket，看了下现在手浏览器应该都支持H5所以应该用起来没有问题-->
</html>